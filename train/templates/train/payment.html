{%extends 'flight/base.html'%}
{%block content%}

{%load static%}

<link rel="stylesheet" href="{%static 'flight/payment.css'%}">
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>


<!-- Button trigger modal -->

<div class="contain">
  <div class="card">
    <div class="card-top border-bottom text-center"><h1>Payment</h1></div>
    <div class="card-body">
        
        <div class="row">
            <div class="col-md-7">
                <div class="left border">            
                      
                    <form> <span>Cardholder's name:</span> <input placeholder="Linda Williams"> <span>Card Number:</span> <input placeholder="0125 6780 4567 9909">
                        <div class="row">
                            <div class="col-4" style="padding-left:15px ;"><span>Expiry date:</span> <input placeholder="YY/MM"> </div>
                            <div class="col-4"><span>CVV:</span> <input id="cvv" type="password"> </div>
                        </div> <label for="save_card"></label>
                    </form>
                    
                   
                </div>
            </div>
            <div class="col-md-5">
                <div class="right border">
                    <div class="header">Selected Train</div>
                    <br>
                    <div class="row item">                      
                        <div class="col-4 "><h6 style="text-transform:uppercase;padding-top:25px;">{{train.name}}</h6></div>
                        <div class="col-8">
                           
                            <div class="inputbox1">
                              <div>
                                ₹<span id='price' ></span>
                              </div>                            
                              <span>Qty of seats:</span>
                              <input id="totalpassengers" onchange="multiplyBy()" type="number" value="1" min="1">
                            </div>
                            
                        </div>
                    </div>                    
                    <hr>                                   
                    <div class="row lower">
                        <div class="col text-left" style="padding-left:15px ;"><b>Total to pay:</b></div>
                        <div class="col text-right" style="padding-left:150px ;"><b>₹<span id="result"></span></b></div>
                    </div>     
                    <button type="button" style="margin-top:10px;padding-left:150px;padding-right:150px;" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        Confirm
                       </button>
                      
                      <!-- Modal -->
                      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel">Thank You!</h5>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                             You've successfully paid the amount!
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Okay</button>
                            </div>
                          </div>
                        </div>
                      </div>      
                </div>
            </div>
        </div>
    </div>  
</div>

<script type="text/javascript">
let price = '{{train.price}}';
document.getElementById('price').innerHTML = `<strong>${price}</strong>`;  
let result = '{{train.price}}';
document.getElementById('result').innerHTML = `${price}`;  

function multiplyBy()
{
        console.log(price);   
        num2 = document.getElementById("totalpassengers").value;
        console.log(num2);   
        document.getElementById("result").innerHTML = price * num2;
}
</script>
</div>

{%endblock%}
  